<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Urdu Language Test - EduLang Hub</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: #e0f7fa; margin: 0; padding: 0; }
    .test-container { max-width: 700px; margin: 40px auto; background: #fff; border-radius: 14px; box-shadow: 0 6px 24px rgba(0,0,0,0.11); padding: 36px 30px 28px 30px; text-align: left; }
    h1 { color: #00796b; margin-bottom: 8px; text-align: center; }
    .test-desc { text-align: center; color: #555; margin-bottom: 30px; }
    .test-section { margin-bottom: 38px; }
    .test-section h2 { color: #ff7043; font-size: 1.23rem; margin-bottom: 12px; border-bottom: 1.5px solid #b2dfdb; padding-bottom: 5px; }
    .question-list { margin-left: 0; padding-left: 18px; }
    .question-list li { margin-bottom: 18px; font-size: 1.07rem; }
    .options { list-style-type: upper-alpha; padding-left: 20px; margin-top: 7px; }
    .options li { margin-bottom: 4px; padding: 4px 8px; border-radius: 6px; cursor: pointer; transition: background 0.18s; display: block; }
    .options li[data-correct="true"] { background: #e0f7fa; border: 1.2px solid #26a69a; }
    .options li:hover { background: #ffe0b2; }
    .back-btn { margin: 32px auto 0 auto; display: block; padding: 10px 24px; background: #00796b; color: #fff; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; transition: background 0.2s; }
    .back-btn:hover { background: #004d40; }
    @media (max-width: 700px) {
      .test-container { padding: 18px 2vw 14px 2vw; }
      h1 { font-size: 1.4rem; }
      .test-section h2 { font-size: 1.09rem; }
    }
  </style>
</head>
  <body>
  <!-- INSTRUCTION MODAL -->
  <div id="instructionModal" class="modal-bg" style="display:flex;">
    <div class="modal-box">
      <h2>Test Instructions</h2>
      <ul class="instr-list">
        <li>THERE ARE 40 MCQS.</li>
        <li>Each correct answer gives <b>+5 marks</b>.</li>
        <li>Each wrong answer deducts <b>2 marks</b>.</li>
        <li>Total marks: <b>200</b></li>
        <li>You must score <b>160 or above</b> to be eligible for a certificate.</li>
      </ul>
      <button onclick="startTestNow()" class="start-btn">Start Test</button>
    </div>
  </div>

  <div class="test-container" id="testContainer" style="display:none;">
    <h1>Urdu Language Test</h1>
    <p class="test-desc">Beginner to Intermediate | 40 Questions | 4 Categories</p>
    <form id="urduTestForm">
    <!-- Category 1: Vocabulary -->
    <section class="test-section">
      <h2>Category 1: Vocabulary</h2>
      <ol start="1" class="question-list">
        <!-- ... (all questions as before, no radio buttons, just for display) ... -->
      </ol>
    </section>
    <!-- ... (other categories, omitted for brevity, but all questions included as before) ... -->
    <button type="submit" class="back-btn" style="background:#ff7043;">Submit Test</button>
    </form>
    <div id="resultBox" style="display:none;"></div>
    <button class="back-btn" onclick="window.location.href='../languages.html'">Back to Languages</button>
  </div>
  <script>
    // Show instructions modal, hide test until started
    function startTestNow() {
      document.getElementById('instructionModal').style.display = 'none';
      document.getElementById('testContainer').style.display = 'block';
    }

  // Urdu Language Quiz Questions (Moderate Difficulty)
const questions = [
  // Category 1: Vocabulary (1â€“10)
  {q: 'Ù„ÙØ¸ "Ú©ØªØ§Ø¨" Ú©Ø§ Ù…Ø·Ù„Ø¨ Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['Book', 'Pen', 'Bag', 'Chair'], correct: 0},
  {q: '"Ù¾Ø§Ù†ÛŒ" Ú©Ø§ Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ ØªØ±Ø¬Ù…Û Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['Milk', 'Water', 'Juice', 'Oil'], correct: 1},
  {q: 'Ù„ÙØ¸ "Ø¯ÙˆØ³Øª" Ú©Ø§ Ø¯Ø±Ø³Øª Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ ØªØ±Ø¬Ù…Û Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['Enemy', 'Friend', 'Teacher', 'Brother'], correct: 1},
  {q: 'Ú©ÙˆÙ† Ø³Ø§ Ù„ÙØ¸ "Ú©Ú¾Ø§Ù†Ø§" Ú©Û’ Ù„ÛŒÛ’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ ÛÙˆØªØ§ ÛÛ’ØŸ', options: ['Ù¾ÛŒÙ†Ø§', 'Ø³ÙˆÙ†Ø§', 'Ú©Ú¾Ø§Ù†Ø§', 'Ø¯Ú¾ÙˆÙ†Ø§'], correct: 2},
  {q: '"Ù…Ø¯Ø±Ø³Û" Ú©Ø§ Ù…Ø·Ù„Ø¨ Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['School', 'Mosque', 'Library', 'Hospital'], correct: 0},
  {q: '"Ø®ÙˆØ´ÛŒ" Ú©Ø§ Ù…ØªØ¶Ø§Ø¯ Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['Ø§Ø¯Ø§Ø³ÛŒ', 'Ù…Ø­Ø¨Øª', 'Ø±Ø­Ù…Øª', 'Ø¯ÙˆØ³ØªÛŒ'], correct: 0},
  {q: 'Ù„ÙØ¸ "Ø´Ú©Ø±" Ú©Ø³ Ú†ÛŒØ² Ú©Û’ Ù„ÛŒÛ’ ÛÛ’ØŸ', options: ['Salt', 'Sugar', 'Honey', 'Flour'], correct: 1},
  {q: 'Ø¯Ø±Ø¬ Ø°ÛŒÙ„ Ù…ÛŒÚº Ø³Û’ Ú©ÙˆÙ† Ø³Ø§ Ø¬Ø§Ù†ÙˆØ± ÛÛ’ØŸ', options: ['Ú©ØªØ§Ø¨', 'Ù‚Ù„Ù…', 'Ú¯Ú¾ÙˆÚ‘Ø§', 'Ù…ÛŒØ²'], correct: 2},
  {q: '"ØµØ¨Ø­" Ú©Ø¨ ÛÙˆØªÛŒ ÛÛ’ØŸ', options: ['Ø±Ø§Øª', 'Ø¯Ù†', 'Ø´Ø§Ù…', 'Ø·Ù„ÙˆØ¹ Ø¢ÙØªØ§Ø¨'], correct: 3},
  {q: '"Ø¯Ø±ÙˆØ§Ø²Û" Ú©Ø³ Ú†ÛŒØ² Ú©Û’ Ù„ÛŒÛ’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ ÛÙˆØªØ§ ÛÛ’ØŸ', options: ['Ø¨ÛŒÙ¹Ú¾Ù†Û’', 'Ø³ÙˆÙ†Û’', 'Ø¯Ø§Ø®Ù„ ÛÙˆÙ†Û’', 'Ú©Ú¾Ø§Ù†Û’'], correct: 2},

  // Category 2: Grammar (11â€“20)
  {q: '"ÙˆÛ Ø¬Ø§ Ø±ÛØ§ ÛÛ’" Ú©ÙˆÙ† Ø³Ø§ Ø²Ù…Ø§Ù†Û ÛÛ’ØŸ', options: ['Ù…Ø§Ø¶ÛŒ', 'Ø­Ø§Ù„', 'Ù…Ø³ØªÙ‚Ø¨Ù„', 'Ø¬Ù…Ù„Û Ø´Ø±Ø·ÛŒÛ'], correct: 1},
  {q: 'Ø¯Ø±Ø¬ Ø°ÛŒÙ„ Ù…ÛŒÚº Ø³Û’ ÙˆØ§Ø­Ø¯ Ø§Ø³Ù… Ú©ÙˆÙ† Ø³Ø§ ÛÛ’ØŸ', options: ['Ú©ØªØ§Ø¨ÛŒÚº', 'Ù„Ú‘Ú©ÛŒØ§Úº', 'Ù¾Ú¾ÙˆÙ„', 'Ú©ØªØ§Ø¨'], correct: 3},
  {q: 'Ø¬Ù…Ù„Û’ Ù…ÛŒÚº ÙØ§Ø¹Ù„ Ú©ÛŒØ§ ÛÙˆØªØ§ ÛÛ’ØŸ', options: ['Ú©Ø§Ù…', 'Ú©Ø§Ù… Ú©Ø±Ù†Û’ ÙˆØ§Ù„Ø§', 'Ú©Ù„Ù…Û', 'Ø²Ù…Ø§Ù†Û'], correct: 1},
  {q: '"Ù†Û’" Ú©ÙˆÙ† Ø³Û’ Ø¬Ù…Ù„ÙˆÚº Ù…ÛŒÚº Ø¢ØªØ§ ÛÛ’ØŸ', options: ['ÙØ¹Ù„ Ù…Ø§Ø¶ÛŒ', 'ÙØ¹Ù„ Ø­Ø§Ù„', 'ÙØ¹Ù„ Ù…Ø³ØªÙ‚Ø¨Ù„', 'ÙØ¹Ù„ Ø§Ù…Ø±'], correct: 0},
  {q: 'Ø¬Ù…Ø¹ Ú©Ø§ Ø¯Ø±Ø³Øª Ø·Ø±ÛŒÙ‚Û Ú©ÛŒØ§ ÛÛ’ØŸ', options: ['Ú©ØªØ§Ø¨ÙˆÙ†', 'Ú©ØªØ§Ø¨Ø§Úº', 'Ú©ØªØ§Ø¨ÛŒÚº', 'Ú©ØªØ§Ø¨Ø§Øª'], correct: 2},
  {q: '"Ù…ÛŒÚº Ù¾Ú‘Ú¾ØªØ§ ÛÙˆÚº" Ú©Ø³ Ø²Ù…Ø§Ù†Û’ Ú©Ø§ Ø¬Ù…Ù„Û ÛÛ’ØŸ', options: ['Ø­Ø§Ù„', 'Ù…Ø§Ø¶ÛŒ', 'Ù…Ø³ØªÙ‚Ø¨Ù„', 'Ø´Ø±Ø·ÛŒÛ'], correct: 0},
  {q: 'Ù…Ù†ÙÛŒ Ø¬Ù…Ù„Û Ú©ÛŒØ§ ÛÙˆØªØ§ ÛÛ’ØŸ', options: ['Ø¬Ø³ Ù…ÛŒÚº Ø§Ù†Ú©Ø§Ø± ÛÙˆ', 'Ø¬Ø³ Ù…ÛŒÚº Ø³ÙˆØ§Ù„ ÛÙˆ', 'Ø¬Ø³ Ù…ÛŒÚº Ø­Ú©Ù… ÛÙˆ', 'Ø¬Ø³ Ù…ÛŒÚº ØªØ¹Ø±ÛŒÙ ÛÙˆ'], correct: 0},
  {q: 'Ø¶Ù…ÛŒØ± Ú©ÛŒØ§ ÛÙˆØªÛŒ ÛÛ’ØŸ', options: ['Ø§Ø³Ù…', 'ÙØ¹Ù„', 'Ø¬Ùˆ Ø§Ø³Ù… Ú©ÛŒ Ø¬Ú¯Û Ø¢Ø¦Û’', 'ØµÙØª'], correct: 2},
  {q: '"Ø¢Ù¾" Ú©ÙˆÙ† Ø³ÛŒ Ø¶Ù…ÛŒØ± ÛÛ’ØŸ', options: ['ÙˆØ§Ø­Ø¯', 'Ø¬Ù…Ø¹', 'Ø§Ø¯Ø¨ Ú©ÛŒ', 'Ù…Ù†ÙÛŒ'], correct: 2},
  {q: 'Ú©ÙˆÙ† Ø³Ø§ Ù„ÙØ¸ Ù…Ø°Ú©Ø± ÛÛ’ØŸ', options: ['Ø¯Ø±ÙˆØ§Ø²Û', 'Ú©Ø±Ø³ÛŒ', 'Ù…ÛŒØ²', 'Ú†Ø§Ø¯Ø±'], correct: 0},

  // Category 3: Reading Comprehension (21â€“30)
  {q: 'Ù…ØªÙ†: "Ø¹Ù„ÛŒ Ø±ÙˆØ² Ø³Ú©ÙˆÙ„ Ø¬Ø§ØªØ§ ÛÛ’Û” ÙˆÛ Ù¾Ú‘Ú¾Ø§Ø¦ÛŒ Ù…ÛŒÚº Ø¨ÛØª Ø§Ú†Ú¾Ø§ ÛÛ’Û”" Ø¹Ù„ÛŒ Ú©ÛØ§Úº Ø¬Ø§ØªØ§ ÛÛ’ØŸ', options: ['Ø¨Ø§Ø²Ø§Ø±', 'Ø¯ÙØªØ±', 'Ø³Ú©ÙˆÙ„', 'Ù¾Ø§Ø±Ú©'], correct: 2},
  {q: 'Ù…ØªÙ†: "Ù…Ø±ÛŒÙ… Ú©Ùˆ Ù¾Ú¾ÙˆÙ„ Ù¾Ø³Ù†Ø¯ ÛÛŒÚºÛ” ÙˆÛ Ø±ÙˆØ² Ø¨Ø§Øº Ù…ÛŒÚº Ø¬Ø§ØªÛŒ ÛÛ’Û”" Ù…Ø±ÛŒÙ… Ú©Ùˆ Ú©ÛŒØ§ Ù¾Ø³Ù†Ø¯ ÛÛ’ØŸ', options: ['Ú©ØªØ§Ø¨ÛŒÚº', 'Ù¾Ú¾ÙˆÙ„', 'Ù¾Ø±Ù†Ø¯Û’', 'Ú©Ú¾Ø§Ù†Ø§'], correct: 1},
  {q: 'Ù…ØªÙ†: "Ø¨Ø§Ø±Ø´ ÛÙˆ Ø±ÛÛŒ ÛÛ’ØŒ Ø¨Ú†Û’ Ú©Ú¾ÛŒÙ„ Ù†ÛÛŒÚº Ø±ÛÛ’Û”" Ø¨Ú†Û’ Ú©ÛŒÙˆÚº Ù†ÛÛŒÚº Ú©Ú¾ÛŒÙ„ Ø±ÛÛ’ØŸ', options: ['Ú¯Ø±Ù…ÛŒ ÛÛ’', 'Ø¨Ø§Ø±Ø´ ÛÙˆ Ø±ÛÛŒ ÛÛ’', 'Ú†Ú¾Ù¹ÛŒØ§Úº ÛÛŒÚº', 'Ø±Ø§Øª ÛÛ’'], correct: 1},
  {q: 'Ù…ØªÙ†: "Ø§Ù…ÛŒ Ù†Û’ Ø¨Ø§Ø²Ø§Ø± Ø³Û’ Ø³Ø¨Ø²ÛŒØ§Úº Ø®Ø±ÛŒØ¯ÛŒÚºÛ”" Ø§Ù…ÛŒ Ù†Û’ Ú©ÛŒØ§ Ø®Ø±ÛŒØ¯Ø§ØŸ', options: ['Ù¾Ú¾Ù„', 'Ø¯ÙˆØ§Ø¦ÛŒÚº', 'Ø³Ø¨Ø²ÛŒØ§Úº', 'Ú©Ù¾Ú‘Û’'], correct: 2},
  {q: 'Ù…ØªÙ†: "Ø¯Ø§Ø¯Ø§ Ø§Ø¨Ùˆ Ù‚Ø±Ø¢Ù† Ù¾Ú‘Ú¾ØªÛ’ ÛÛŒÚºÛ”" Ø¯Ø§Ø¯Ø§ Ø§Ø¨Ùˆ Ú©ÛŒØ§ Ú©Ø±ØªÛ’ ÛÛŒÚºØŸ', options: ['Ø³Ùˆ Ø¬Ø§ØªÛ’ ÛÛŒÚº', 'Ú©Ú¾ÛŒÙ„ØªÛ’ ÛÛŒÚº', 'Ù‚Ø±Ø¢Ù† Ù¾Ú‘Ú¾ØªÛ’ ÛÛŒÚº', 'Ù¹ÛŒ ÙˆÛŒ Ø¯ÛŒÚ©Ú¾ØªÛ’ ÛÛŒÚº'], correct: 2},
  {q: 'Ù…ØªÙ†: "Ù†Ø¯Ø§ ÛØ± Ø±ÙˆØ² Ù†Ù…Ø§Ø² Ù¾Ú‘Ú¾ØªÛŒ ÛÛ’Û”" Ù†Ø¯Ø§ Ú©ÛŒØ§ Ú©Ø±ØªÛŒ ÛÛ’ØŸ', options: ['Ù†Ù…Ø§Ø² Ù¾Ú‘Ú¾ØªÛŒ ÛÛ’', 'Ú¯Ø§Ù†Û’ Ø³Ù†ØªÛŒ ÛÛ’', 'Ú©Ú¾ÛŒÙ„ØªÛŒ ÛÛ’', 'Ù¹ÛŒ ÙˆÛŒ Ø¯ÛŒÚ©Ú¾ØªÛŒ ÛÛ’'], correct: 0},
  {q: 'Ù…ØªÙ†: "Ø³Ø¹Ø¯ Ø§Ø³Ú©ÙˆÙ„ Ù…ÛŒÚº Ø¨ÛØªØ±ÛŒÙ† Ø·Ø§Ù„Ø¨ Ø¹Ù„Ù… ÛÛ’Û”" Ø³Ø¹Ø¯ Ú©ÛØ§Úº Ø¨ÛØªØ±ÛŒÙ† ÛÛ’ØŸ', options: ['Ø¯ÙØªØ±', 'Ø³Ú©ÙˆÙ„', 'Ú¯Ú¾Ø±', 'Ù¾Ø§Ø±Ú©'], correct: 1},
  {q: 'Ù…ØªÙ†: "Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¨Ø¹Ø¯ Ù…ÙˆØ³Ù… Ø®ÙˆØ´Ú¯ÙˆØ§Ø± ÛÙˆ Ú¯ÛŒØ§Û”" Ù…ÙˆØ³Ù… Ú©Ø¨ Ø®ÙˆØ´Ú¯ÙˆØ§Ø± ÛÙˆØ§ØŸ', options: ['Ø¨Ø§Ø±Ø´ Ø³Û’ Ù¾ÛÙ„Û’', 'Ø¨Ø§Ø±Ø´ Ú©Û’ Ø¨Ø¹Ø¯', 'Ø³Ø±Ø¯ÛŒ Ù…ÛŒÚº', 'Ú¯Ø±Ù…ÛŒ Ù…ÛŒÚº'], correct: 1},
  {q: 'Ù…ØªÙ†: "Ù†Ù†Ú¾Û’ Ø§Ø­Ù…Ø¯ Ú©Ùˆ Ú©ÛØ§Ù†ÛŒØ§Úº Ø³Ù†Ù†Ø§ Ù¾Ø³Ù†Ø¯ ÛÛ’Û”" Ø§Ø­Ù…Ø¯ Ú©Ùˆ Ú©ÛŒØ§ Ù¾Ø³Ù†Ø¯ ÛÛ’ØŸ', options: ['Ú©ØªØ§Ø¨ÛŒÚº Ù¾Ú‘Ú¾Ù†Ø§', 'Ú©ÛØ§Ù†ÛŒØ§Úº Ø³Ù†Ù†Ø§', 'Ù¹ÛŒ ÙˆÛŒ Ø¯ÛŒÚ©Ú¾Ù†Ø§', 'Ú©Ú¾ÛŒÙ„Ù†Ø§'], correct: 1},
  {q: 'Ù…ØªÙ†: "Ù¾Ø§Ù¾Ø§ Ø¯ÙØªØ± Ø¬Ø§ØªÛ’ ÛÛŒÚº Ø§ÙˆØ± Ø¯ÛŒØ± Ø³Û’ Ø¢ØªÛ’ ÛÛŒÚºÛ”" Ù¾Ø§Ù¾Ø§ Ú©ÛØ§Úº Ø¬Ø§ØªÛ’ ÛÛŒÚºØŸ', options: ['Ø¨Ø§Ø²Ø§Ø±', 'Ø§Ø³Ú©ÙˆÙ„', 'Ø¯ÙØªØ±', 'Ù¾Ø§Ø±Ú©'], correct: 2},

  // Category 4: Cultural Knowledge (31â€“40)
  {q: 'Ø§Ø±Ø¯Ùˆ Ø²Ø¨Ø§Ù† Ú©ÛØ§Úº Ú©ÛŒ Ù‚ÙˆÙ…ÛŒ Ø²Ø¨Ø§Ù† ÛÛ’ØŸ', options: ['Ø¨Ú¾Ø§Ø±Øª', 'Ù¾Ø§Ú©Ø³ØªØ§Ù†', 'Ø¨Ù†Ú¯Ù„Û Ø¯ÛŒØ´', 'Ù†ÛŒÙ¾Ø§Ù„'], correct: 1},
  {q: 'Ø¹Ù„Ø§Ù…Û Ø§Ù‚Ø¨Ø§Ù„ Ù†Û’ Ú©ÛŒØ§ Ù„Ú©Ú¾Ø§ØŸ', options: ['Ù‚Ø§Ù†ÙˆÙ†', 'Ø§ÙØ³Ø§Ù†Û’', 'Ø´Ø§Ø¹Ø±ÛŒ', 'Ø±Ù¾ÙˆØ±Ù¹'], correct: 2},
  {q: 'Ø§Ø±Ø¯Ùˆ Ø±Ø³Ù… Ø§Ù„Ø®Ø· Ú©ÛŒØ§ Ú©ÛÙ„Ø§ØªØ§ ÛÛ’ØŸ', options: ['Ù„Ø§Ø·ÛŒÙ†ÛŒ', 'Ø¹Ø±Ø¨ÛŒ', 'ÙØ§Ø±Ø³ÛŒ', 'Ø¯ÛŒÙˆÙ†Ø§Ú¯Ø±ÛŒ'], correct: 2},
  {q: 'Ø§Ø±Ø¯Ùˆ Ú©Ø§ Ù¾ÛÙ„Ø§ Ù†Ø§ÙˆÙ„ Ú©ÙˆÙ† Ø³Ø§ ÛÛ’ØŸ', options: ['Ø§Ù…Ø±Ø§Ø¤ Ø¬Ø§Ù† Ø§Ø¯Ø§', 'Ø§Ù“Ø¨Ù Ø­ÛŒØ§Øª', 'Ù…ÛŒØ±Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ³', 'Ø§Ø¯Ú¾ÙˆØ±ÛŒ Ø®ÙˆØ§ÛØ´'], correct: 2},
  {q: 'Ù¾Ø§Ú©Ø³ØªØ§Ù† Ù…ÛŒÚº ÛŒÙˆÙ…Ù Ø²Ø¨Ø§Ù† Ø§Ø±Ø¯Ùˆ Ú©Ø¨ Ù…Ù†Ø§ÛŒØ§ Ø¬Ø§ØªØ§ ÛÛ’ØŸ', options: ['14 Ø§Ú¯Ø³Øª', '21 ÙØ±ÙˆØ±ÛŒ', '9 Ù†ÙˆÙ…Ø¨Ø±', '21 Ù…Ø§Ø±Ú†'], correct: 1},
  {q: 'Ø§Ø±Ø¯Ùˆ Ú©Û’ Ù…Ø´ÛÙˆØ± Ø´Ø§Ø¹Ø± Ù…ÛŒØ± Ú©Ø§ Ù¾ÙˆØ±Ø§ Ù†Ø§Ù… Ú©ÛŒØ§ ØªÚ¾Ø§ØŸ', options: ['Ù…ÛŒØ±Ø²Ø§ ØºØ§Ù„Ø¨', 'Ù…ÛŒØ± ØªÙ‚ÛŒ Ù…ÛŒØ±', 'ÙÛŒØ¶ Ø§Ø­Ù…Ø¯ ÙÛŒØ¶', 'Ø§Ø­Ù…Ø¯ ÙØ±Ø§Ø²'], correct: 1},
  {q: 'Ø´Ø§Ø¹Ø±ÛŒ Ú©ÛŒ Ø³Ø¨ Ø³Û’ Ù…Ø´ÛÙˆØ± ØµÙ†Ù Ú©ÙˆÙ† Ø³ÛŒ ÛÛ’ØŸ', options: ['Ø§ÙØ³Ø§Ù†Û', 'Ù†Ø¸Ù…', 'ØºØ²Ù„', 'Ù…Ø¶Ù…ÙˆÙ†'], correct: 2},
  {q: 'ØºØ§Ù„Ø¨ Ú©Ø§ ØªØ¹Ù„Ù‚ Ú©Ø³ Ø´ÛØ± Ø³Û’ ØªÚ¾Ø§ØŸ', options: ['Ù„Ø§ÛÙˆØ±', 'Ú©Ø±Ø§Ú†ÛŒ', 'Ø¯ÛÙ„ÛŒ', 'Ù„Ú©Ú¾Ù†Ø¤'], correct: 2},
  {q: 'Ø§Ø±Ø¯Ùˆ Ú©ÛŒ Ø§Ø¨ØªØ¯Ø§Ø¦ÛŒ Ø´Ú©Ù„ Ú©Ø³ Ø²Ø¨Ø§Ù† Ø³Û’ Ù…ØªØ§Ø«Ø± ÛÛ’ØŸ', options: ['Ù¾Ù†Ø¬Ø§Ø¨ÛŒ', 'ØªØ±Ú©ÛŒ', 'ÙØ§Ø±Ø³ÛŒ', 'Ú†ÛŒÙ†ÛŒ'], correct: 2},
  {q: 'Ø§Ø±Ø¯Ùˆ Ú©Ø§ Ù¾ÛÙ„Ø§ Ø§Ø®Ø¨Ø§Ø± Ú©ÛŒØ§ ØªÚ¾Ø§ØŸ', options: ['Ø§Ø®Ø¨Ø§Ø± ÙˆØ·Ù†', 'Ø¬Ø§Ù…Ù Ø¬ÛØ§Úº Ù†Ù…Ø§', 'Ù†Ø¦ÛŒ Ø¨Ø§Øª', 'Ø±ÙˆØ²Ù†Ø§Ù…Û Ø¬Ù†Ú¯'], correct: 1}
];

    
    // Render questions dynamically (replace static HTML)
    function renderQuestions() {
      const cats = [
        {title: 'Category 1: Vocabulary', start: 1, end: 10},
        {title: 'Category 2: Grammar', start: 11, end: 20},
        {title: 'Category 3: Character Recognition', start: 21, end: 30},
        {title: 'Category 4: Culture and Communication', start: 31, end: 40}
      ];
      let html = '';
      let idx = 0;
      for (const cat of cats) {
        html += `<section class="test-section"><h2>${cat.title}</h2><ol start="${cat.start}" class="question-list">`;
        for (let i = cat.start-1; i < cat.end; ++i) {
          const q = questions[i];
          html += `<li>${q.q}<ul class="options">`;
          for (let j = 0; j < 4; ++j) {
            html += `<li><label><input type="radio" name="q${i+1}" value="${j}"> ${String.fromCharCode(65+j)}. ${q.options[j]}</label></li>`;
          }
          html += '</ul></li>';
        }
        html += '</ol></section>';
      }
      document.querySelector('#urduTestForm').innerHTML = html + '<button type="submit" class="back-btn" style="background:#ff7043;">Submit Test</button>';
    }

    // Fill questions array and render on page load
    // ... (fill questions array here, omitted for brevity in this message) ...
    renderQuestions();

    // Handle form submit
    document.getElementById('urduTestForm').onsubmit = function(e) {
      e.preventDefault();
      let score = 0;
      let total = 40;
      for (let i = 0; i < total; ++i) {
        const radios = document.getElementsByName(`q${i+1}`);
        let selected = -1;
        for (let j = 0; j < 4; ++j) {
          if (radios[j] && radios[j].checked) selected = j;
        }
        if (selected === -1) continue; // unanswered
        if (selected === questions[i].correct) score += 5;
        else score -= 2;
      }
      let resultBox = document.getElementById('resultBox');
      resultBox.style.display = 'block';
      // Show overlay
      document.body.insertAdjacentHTML('beforeend', `<div id='resultOverlay' class='result-overlay'></div>`);
      let overlay = document.getElementById('resultOverlay');
      overlay.innerHTML = (score >= 1 ? `
        <div class='result-message-box success' style="background: #f1fff8; border: 2px solid #26a69a; border-radius: 14px; box-shadow: 0 4px 18px rgba(38,166,154,0.09); padding: 38px 32px 28px 32px; text-align: center; font-family: 'Segoe UI', Arial, sans-serif;">
          <div style="font-size: 2.8rem; color: #43b97f; margin-bottom: 12px;">&#10004;</div>
          <div class='result-title' style='color:#00796b; font-size: 1.58rem; font-weight: 700; margin-bottom: 6px;'>Congratulations!</div>
          <div class='result-score' style='color:#00796b; font-size: 1.18rem; margin-bottom: 6px;'>You scored <b>${score}/200</b></div>
          <div class='result-desc' style='color:#555; font-size: 1.08rem; margin-bottom: 12px;'>You have successfully passed the Chinese Language Test and are eligible to receive your official certificate.</div>
          <button class='back-btn' id='showCertFormBtn' style='background:linear-gradient(90deg,#26a69a,#43b97f);margin-top:16px;font-size:1.08rem;font-weight:600;border-radius:8px;padding:12px 38px;'>Get Your Certificate</button>
        </div>
      ` : `
        <div class='result-message-box fail'>
          <div class='result-icon' aria-label='Sad face'>ğŸ˜”</div>
          <div class='result-title'>Thank you for taking the test.</div>
          <div class='result-score'>Your score is <b>${score}/200</b>.</div>
          <div class='result-desc'>Unfortunately, you are not eligible for the certificate this time.</div>
          <div class='result-encouragement'>Try again soon!</div>
        </div>
      `);
      window.scrollTo({top:0,behavior:'smooth'});
      
      // Add event listener to the certificate button if test is passed
      if (score >= 160) {
        document.getElementById('showCertFormBtn').addEventListener('click', showCertForm);
      }
      
      return false;
    }
    
    // Function to show certificate form
    function showCertForm() {
      const scoreText = document.querySelector('.result-score').textContent;
      const scoreMatch = scoreText.match(/(\d+)\/200/);
      const score = scoreMatch ? scoreMatch[1] : 190;
      
      // Redirect to certificate page
      window.location.href = 'certificate_urdu.html?score=' + score;
    }
  </script>
  <style>
    /* ...existing styles... */
    .modal-bg { position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.18);display:flex;align-items:center;justify-content:center;z-index:99; }
    .modal-box { background:#fff; border-radius:12px; padding:36px 28px 22px 28px; box-shadow:0 8px 32px rgba(0,0,0,0.13); text-align:center; min-width:290px; animation:fadeIn 0.3s; }
    .modal-box h2 { margin-bottom:18px; color:#00796b; font-size:1.3rem; }
    .instr-list { text-align:left; margin-bottom:18px; color:#444; font-size:1.06rem; }
    .instr-list li { margin-bottom:7px; }
    .start-btn { padding:12px 38px; background:linear-gradient(90deg,#00796b,#26a69a);color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:600;font-size:1.12rem;box-shadow:0 2px 8px rgba(0,0,0,0.09);transition:background 0.3s; }
    .start-btn:hover { background:linear-gradient(90deg,#004d40,#26a69a); }
    .result-overlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.23);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      width: 100vw;
    }
    .result-message-box {
      max-width: 410px;
      background: #fff8f4;
      border: 1.5px solid #e64a19;
      border-radius: 12px;
      padding: 32px 28px 22px 28px;
      box-shadow: 0 4px 18px rgba(230,74,25,0.13);
      text-align: center;
      color: #e64a19;
      font-size: 1.08rem;
      font-family: inherit;
      font-weight: 400;
      transition: box-shadow 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      margin: 0;
    }
    .result-message-box .result-icon {
      font-size: 3.2rem;
      margin-bottom: 8px;
    }
    .result-message-box.success {
      background: #f1fff8;
      border: 1.5px solid #26a69a;
      color: #00796b;
      box-shadow: 0 4px 18px rgba(38,166,154,0.13);
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
<script>
// Certificate Modal Logic
let certData = {};
function showCertForm() {
  // Get the score from the result display
  const scoreText = document.querySelector('.result-score').textContent;
  const scoreMatch = scoreText.match(/(\d+)\/200/);
  const score = scoreMatch ? scoreMatch[1] : 190; // Default to 190 if not found
  
  // Set default certificate data
  const defaultName = "STUDENT NAME";
  const defaultAddress = "123 Main Street, Beijing, China";
  const defaultId = "ID-12345-6789";
  const defaultPhoto = "https://via.placeholder.com/150";
  
  // Store data in sessionStorage
  sessionStorage.setItem('certName', defaultName);
  sessionStorage.setItem('certAddress', defaultAddress);
  sessionStorage.setItem('certId', defaultId);
  sessionStorage.setItem('certPhoto', defaultPhoto);
  
  // Redirect to certificate page with marks parameter
  window.location.href = `certificate_urdu.html?marks=${score}`;
}
function closeCertModal() {
  let modal = document.getElementById('certModalBg');
  if(modal) modal.remove();
}
function certFormSubmit(e) {
  e.preventDefault();
  let name = document.getElementById('certName').value.trim();
  let address = document.getElementById('certAddress').value.trim();
  let id = document.getElementById('certId').value.trim();
  let photoInput = document.getElementById('certPhoto');
  if (!name || !address || !id || !photoInput.files[0]) return;
  let reader = new FileReader();
  reader.onload = function(ev) {
    certData = { name, address, id, photo: ev.target.result };
    showCertPreview();
  };
  reader.readAsDataURL(photoInput.files[0]);
}
function showCertPreview() {
  closeCertModal();
  // Generate a unique certificate ID (e.g., date+random)
  const certId = 'EDU-' + Date.now().toString(36).toUpperCase() + '-' + Math.random().toString(36).substr(2, 6).toUpperCase();
  // Generate QR code using a public API (e.g., qrserver.com)
  const verifyUrl = `https://edulang-hub.com/verify?cert=${certId}`;
  const qrApi = `https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(verifyUrl)}`;
  document.body.insertAdjacentHTML('beforeend', `
    <div id="certModalBg" class="cert-modal-bg">
      <div class="cert-modal-box cert-cert-preview">
        <div id="certPreviewBox" class="cert-preview-box professional-certificate">
          <div class="cert-border">
            <div class="cert-bg-pattern"></div>
            <div class="cert-content-area">
              <div class="cert-header">
                <span class="cert-issuer">EduLang Hub</span>
                <span class="cert-id-field">Certificate ID: <span id="certUniqueId">${certId}</span></span>
              </div>
              <div class="cert-title-pro">Certificate of Achievement</div>
              <div class="cert-photo-row">
                <img src="${certData.photo}" alt="Photo" class="cert-photo-pro" />
              </div>
              <div class="cert-body">
                <div class="cert-presented">This is to certify that</div>
                <div class="cert-name">${certData.name}</div>
                <div class="cert-desc">has successfully passed the <b>Urdu Language Test</b> with distinction.</div>
                <div class="cert-info-row">
                  <span class="cert-info-label">Address:</span> <span>${certData.address}</span>
                </div>
                <div class="cert-info-row">
                  <span class="cert-info-label">ID Card:</span> <span>${certData.id}</span>
                </div>
                <div class="cert-info-row">
                  <span class="cert-info-label">Date:</span> <span>${new Date().toLocaleDateString()}</span>
                </div>
              </div>
              <div class="cert-footer-row">
                <div class="cert-signature-area">
                  <div class="cert-signature-text">Director, EduLang Hub</div>
                  <div class="cert-signature-img">(signature)</div>
                </div>
                <div class="cert-qr-area">
                  <img id="certQrCode" class="cert-qr-img" src="${qrApi}" alt="QR Code" />
                  <div class="cert-qr-label">Verify</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <button class="cert-download-btn" onclick="downloadCertPDF()">Download as PDF</button>
        <button class="cert-download-btn" onclick="downloadCertImage()">Download as Image</button>
        <button class="cert-download-btn cert-close-btn" onclick="closeCertModal()">Close</button>
      </div>
    </div>
  `);
}
function downloadCertPDF() {
  html2pdf().from(document.getElementById('certPreviewBox')).set({margin:0.2, filename:'certificate.pdf', html2canvas:{scale:2}}).save();
}
function downloadCertImage() {
  html2canvas(document.getElementById('certPreviewBox')).then(function(canvas) {
    let link = document.createElement('a');
    link.download = 'certificate.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}
// Attach handler after overlay shown
window.addEventListener('click', function(e) {
  if(e.target && e.target.id==='showCertFormBtn') showCertForm();
});
</script>
</html>
